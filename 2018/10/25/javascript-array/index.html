<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--Description-->
    
        <meta name="description" content="一分耕耘一分收获">
    

    <!--Author-->
    
        <meta name="author" content="lhz">
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="JavaScript 数组"/>
    

    <!--Open Graph Description-->
    
        <meta property="og:description" content="一分耕耘一分收获" />
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content="恋空一译"/>

    <!--Type page-->
    
        <meta property="og:type" content="article" />
    

    <!--Page Cover-->
    

    <meta name="twitter:card" content="summary" />
    

    <!-- Title -->
    
    <title>JavaScript 数组 - 恋空一译</title>

    <!-- Tachyons Core CSS -->
    <link rel="stylesheet" href="//unpkg.com/tachyons/css/tachyons.min.css">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/style.css">

    <!-- Google Analytics -->
    


</head>


<body>

<!-- Main Content -->
<!-- Banner -->
<!-- Banner -->
<div class="w-100 bg-1 ph5-ns ph3 text-light">
    
    <nav class="db dt-l w-100 mw8 center border-box pv3">
        <a class="db dtc-l v-mid link dim w-100 w-25-l tc tl-l mb2 mb0-l white" href="/" title="恋空一译">
            <img src="/images/avatar.jpg" class="dib h3" alt="恋空一译">
        </a>
        <div class="db dtc-l v-mid w-100 w-75-l tc tr-l">
            
                <a class="link dim f6 f5-l dib mr3 mr4-l white" 
                    href="/" 
                    title="Home">
                    Home
                </a>
            
                <a class="link dim f6 f5-l dib mr3 mr4-l white" 
                    href="/archives" 
                    title="Archives">
                    Archives
                </a>
            
                <a class="link dim f6 f5-l dib mr3 mr4-l white" 
                    href="/tags" 
                    title="Tags">
                    Tags
                </a>
            
                <a class="link dim f6 f5-l dib mr3 mr4-l white" 
                    href="/categories" 
                    title="Categories">
                    Categories
                </a>
            
                <a class="link dim f6 f5-l dib mr3 mr4-l white" 
                    href="/about.html" 
                    title="About">
                    About
                </a>
            
                <a class="link dim f6 f5-l dib mr3 mr4-l white" 
                    href="/contact.html" 
                    title="Contact">
                    Contact
                </a>
            
        </div>
    </nav>

    <!-- Title -->
    <div class="w-100 mw8 center vh-40 dt">
        <div class="dtc v-mid white">
            <h1 class="f1-l f2-m tc tc-m tl-ns">JavaScript 数组</h1>
            <p class="f4 fw3 pab-100px tc tc-m tl-ns">2018-10-25</p>
        </div>
    </div>

    <!-- Icon -->
    <div class="relative w-100 mw8 center white dn dn-m db-ns">
        <i class="header-icon fa fa fa-file-code-o"></i>
    </div>
</div>

<!-- Content -->
<div class="w-100 ph2 ph4-m ph5-l mv5 mv6-l">
    <div class="content">
        <div class="mw8 center">
            <div class="cf">
                <div class="fl w-100 w-70-l mw7 left fw3 lh-copy pr4-ns pr0-m post-content">
                    <!-- Tags Vertical -->
                    
                        <div class="tags-container-vertical">
                            <div class="tags-sub-container">
                                <a class="fw3 ph1 dib" href="/tags/JavaScript/">#JavaScript</a>
                            </div>
                        </div>
                    

                    <!-- Main Post Content -->
                    <h1 id="Array"><a href="#Array" class="headerlink" title="Array"></a>Array</h1><blockquote>
<p>获取 Array.prototype 的所有方法</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.getOwnPropertyNames(<span class="built_in">Array</span>.prototype)</span><br></pre></td></tr></table></figure>
<h2 id="改变自身值的方法-9个"><a href="#改变自身值的方法-9个" class="headerlink" title="改变自身值的方法(9个)"></a>改变自身值的方法(9个)</h2><ul>
<li><a href="#pop"><code>pop</code></a></li>
<li><a href="#push"><code>push</code></a></li>
<li><a href="#reverse"><code>reverse</code></a></li>
<li><a href="#shift"><code>shift</code></a></li>
<li><a href="#sort"><code>sort</code></a><ul>
<li>使用映射改善排序</li>
<li>奇怪的chrome</li>
<li>问题分析</li>
</ul>
</li>
<li><a href="#splice"><code>splice</code></a></li>
<li><a href="#unshift"><code>unshift</code></a></li>
<li><a href="#copyWithin(ES6"><code>copyWithin(ES6)</code></a>)</li>
<li><a href="#fill(ES6"><code>fill(ES6)</code></a>)</li>
</ul>
<h2 id="不会改变自身的方法-9个"><a href="#不会改变自身的方法-9个" class="headerlink" title="不会改变自身的方法(9个)"></a>不会改变自身的方法(9个)</h2><ul>
<li>concat</li>
<li>join</li>
<li>slice</li>
<li>toString</li>
<li>toLocaleString</li>
<li>indexOf</li>
<li>lastIndexOf</li>
<li>includes(ES7)</li>
<li>toSource(非标准)</li>
</ul>
<h2 id="遍历方法"><a href="#遍历方法" class="headerlink" title="遍历方法"></a>遍历方法</h2><ul>
<li><a href="#forEach"><code>forEach</code></a></li>
<li><a href="#every"><code>every</code></a></li>
<li><a href="#some"><code>some</code></a></li>
<li><a href="#filter"><code>filter</code></a></li>
<li><a href="#map"><code>map</code></a></li>
<li><a href="#reduce"><code>reduce</code></a></li>
<li><a href="#reduceRight"><code>reduceRight</code></a></li>
<li><a href="#entries"><code>entries(ES6)</code></a></li>
<li><a href="#find"><code>find(ES6)</code></a></li>
<li><a href="#findIndex"><code>findIndex(ES6)</code></a></li>
<li><a href="#keys"><code>keys(ES6)</code></a></li>
<li><a href="#values"><code>values(ES6)</code></a></li>
<li><a href="#Symbol.iterator"><code>Symbol.iterator(ES6)</code></a></li>
</ul>
<h3 id="forEach"><a href="#forEach" class="headerlink" title="forEach"></a>forEach</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">array.forEach(callback(currentValue, index, array)&#123;</span><br><span class="line">    <span class="comment">//do something</span></span><br><span class="line">&#125;, <span class="keyword">this</span>)</span><br><span class="line"></span><br><span class="line">array.forEach(callback[, thisArg])</span><br></pre></td></tr></table></figure>
<p><code>callback</code></p>
<ul>
<li>数组当前项的值</li>
<li>数组当前项的索引</li>
<li>数组对象本身</li>
</ul>
<p><code>返回值</code><br><code>undefined.</code><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> o = &#123;<span class="number">0</span>:<span class="string">'数组当前项的值'</span>, <span class="number">1</span>:<span class="string">'数组当前项的索引'</span>, <span class="number">2</span>:<span class="string">'数组对象本身'</span>, <span class="attr">length</span>:<span class="number">3</span>&#125;;</span><br><span class="line"><span class="built_in">Array</span>.prototype.forEach.call(o,<span class="function"><span class="keyword">function</span>(<span class="params">currentValue, index, array</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(currentValue, index, array);</span><br><span class="line">&#125;,o);</span><br></pre></td></tr></table></figure></p>
<h3 id="every"><a href="#every" class="headerlink" title="every"></a>every</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">array.every(callback[, thisArg])</span><br></pre></td></tr></table></figure>
<h3 id="some"><a href="#some" class="headerlink" title="some"></a>some</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">array.some(callback[, thisArg])</span><br></pre></td></tr></table></figure>
<h3 id="filter"><a href="#filter" class="headerlink" title="filter"></a>filter</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> new_array = arr.filter(callback(element[, index[, array]])[, thisArg])</span><br></pre></td></tr></table></figure>
<h3 id="map"><a href="#map" class="headerlink" title="map"></a>map</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> new_array = arr.map(<span class="function"><span class="keyword">function</span> <span class="title">callback</span>(<span class="params">currentValue[, index[, array]]</span>) </span>&#123;</span><br><span class="line"> <span class="comment">// Return element for new_array &#125;[, </span></span><br><span class="line">thisArg])</span><br></pre></td></tr></table></figure>
<h3 id="reduce"><a href="#reduce" class="headerlink" title="reduce"></a>reduce</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr.reduce(fn, initialValue)</span><br></pre></td></tr></table></figure>
<p><code>callback</code></p>
<ul>
<li>Accumulator (acc) (累计器)</li>
<li>Current Value (cur) (当前值)</li>
<li>Current Index (idx) (当前索引)</li>
<li>Source Array (src) (源数组)</li>
</ul>
<p><code>initialValue 指定第一次调用 fn 的第一个参数</code>。如果没有提供初始值，则将使用数组中的第一个元素。 在没有初始值的空数组上调用 reduce 将报错</p>
<p><code>返回值</code><br>函数累计处理的结果<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">求字符串中字母出现的次数</span><br><span class="line"><span class="keyword">const</span> str = <span class="string">'sfhjasfjgfasjuwqrqadqeiqsajsdaiwqdaklldflas-cmxzmnha'</span>;</span><br><span class="line"><span class="keyword">const</span> res = str.split(<span class="string">''</span>).reduce(<span class="function">(<span class="params">accumulator, cur</span>) =&gt;</span> &#123; </span><br><span class="line">    accumulator[cur] ? accumulator[cur]++ : accumulator[cur] = <span class="number">1</span>; </span><br><span class="line">    <span class="keyword">return</span> accumulator; </span><br><span class="line">&#125;, &#123;&#125;);</span><br><span class="line"><span class="comment">// &#123;s: 6, f: 4, h: 2, j: 4, a: 8,…&#125;</span></span><br></pre></td></tr></table></figure></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">以<span class="number">10</span>为初始值求和</span><br><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">const</span> sum = arr.reduce(<span class="function">(<span class="params">total, num</span>) =&gt;</span> total + num, <span class="number">10</span>);  <span class="comment">// 16</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">数组最大值</span><br><span class="line"><span class="keyword">const</span> a = [<span class="number">23</span>,<span class="number">123</span>,<span class="number">342</span>,<span class="number">12</span>];</span><br><span class="line"><span class="keyword">const</span> max = a.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">pre,cur,inde,arr</span>)</span>&#123;<span class="keyword">return</span> pre&gt;cur?pre:cur;&#125;); <span class="comment">// 342</span></span><br></pre></td></tr></table></figure>
<h3 id="entries"><a href="#entries" class="headerlink" title="entries"></a>entries</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr.entries()</span><br></pre></td></tr></table></figure>
<p><code>iterator.next()</code></p>
<p><code>返回值</code><br>返回一个新的Array Iterator对象，该对象包含数组中每个索引的键/值对。(<a href="http://www.ecma-international.org/ecma-262/6.0/#sec-createarrayiterator)是对象，它的原型（__proto__:Array" target="_blank" rel="noopener">http://www.ecma-international.org/ecma-262/6.0/#sec-createarrayiterator)是对象，它的原型（__proto__:Array</a> Iterator）上有一个next方法，可用用于遍历迭代器取得原数组的[key,value]<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// entries 也受益于鸭式辨型，如下：</span></span><br><span class="line"><span class="keyword">var</span> o = &#123;<span class="number">0</span>:<span class="string">"a"</span>, <span class="number">1</span>:<span class="string">"b"</span>, <span class="number">2</span>:<span class="string">"c"</span>, <span class="attr">length</span>:<span class="number">3</span>&#125;;</span><br><span class="line"><span class="keyword">var</span> iterator = <span class="built_in">Array</span>.prototype.entries.call(o);</span><br><span class="line"><span class="built_in">console</span>.log(iterator.next().value); <span class="comment">// [0, "a"]</span></span><br><span class="line"><span class="built_in">console</span>.log(iterator.next().value); <span class="comment">// [1, "b"]</span></span><br><span class="line"><span class="built_in">console</span>.log(iterator.next().value); <span class="comment">// [2, "c"]</span></span><br><span class="line"><span class="built_in">console</span>.log(iterator.next().value); <span class="comment">// undefined, 迭代器处于数组末尾时, 再迭代就会返回undefined</span></span><br></pre></td></tr></table></figure></p>
<h3 id="find"><a href="#find" class="headerlink" title="find"></a>find</h3><blockquote>
<p>返回数组中找到的元素的值，而不是其索引</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr.find(callback[, thisArg])</span><br></pre></td></tr></table></figure>
<h3 id="keys"><a href="#keys" class="headerlink" title="keys"></a>keys</h3><h4 id="返回一个包含数组中每个索引键的Array-Iterator对象。"><a href="#返回一个包含数组中每个索引键的Array-Iterator对象。" class="headerlink" title="返回一个包含数组中每个索引键的Array Iterator对象。"></a>返回一个包含数组中每个索引键的<code>Array Iterator</code>对象。</h4><p><code>返回值</code><br><code>一个新的 Array 迭代器对象</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 索引迭代器会包含那些没有对应元素的索引</span></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="string">"a"</span>, , <span class="string">"c"</span>];</span><br><span class="line"><span class="keyword">var</span> sparseKeys = <span class="built_in">Object</span>.keys(arr);</span><br><span class="line"><span class="keyword">var</span> denseKeys = [...arr.keys()];</span><br><span class="line"><span class="built_in">console</span>.log(sparseKeys); <span class="comment">// ['0', '2']</span></span><br><span class="line"><span class="built_in">console</span>.log(denseKeys);  <span class="comment">// [0, 1, 2]</span></span><br></pre></td></tr></table></figure>
<h3 id="values"><a href="#values" class="headerlink" title="values"></a>values</h3><h4 id="返回一个新的-Array-Iterator-对象，该对象包含数组每个索引的值"><a href="#返回一个新的-Array-Iterator-对象，该对象包含数组每个索引的值" class="headerlink" title="返回一个新的 Array Iterator 对象，该对象包含数组每个索引的值"></a>返回一个新的 <code>Array Iterator</code> 对象，该对象包含数组每个索引的值</h4><p><code>返回值</code><br><code>一个新的 Array 迭代器对象</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="string">'w'</span>, <span class="string">'y'</span>, <span class="string">'k'</span>, <span class="string">'o'</span>, <span class="string">'p'</span>];</span><br><span class="line"><span class="keyword">let</span> eArr = arr.values();</span><br><span class="line"><span class="built_in">console</span>.log(eArr.next().value); <span class="comment">// w</span></span><br><span class="line"><span class="built_in">console</span>.log(eArr.next().value); <span class="comment">// y</span></span><br><span class="line"><span class="built_in">console</span>.log(eArr.next().value); <span class="comment">// k</span></span><br><span class="line"><span class="built_in">console</span>.log(eArr.next().value); <span class="comment">// o</span></span><br><span class="line"><span class="built_in">console</span>.log(eArr.next().value); <span class="comment">// p</span></span><br></pre></td></tr></table></figure>
<p><a href="https://segmentfault.com/a/1190000016265344" target="_blank" rel="noopener">js中reduce的神奇用法</a></p>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank" rel="noopener">JavaScript 标准库</a></p>
<p><a href="http://louiszhai.github.io/2017/04/28/array" target="_blank" rel="noopener">JavaScript数组所有API全解密</a></p>
<p><a href="https://github.com/kujian/30-seconds-of-code" target="_blank" rel="noopener">30 seconds of code 中文版翻译</a></p>

                    
                    <!-- Tags Bottom -->
                    
                        <div class="tags-container-bottom">
                            <i class="fa fa-tag pr3 text-main-color"></i><a class="fw3 ph1 dib" href="/tags/JavaScript/">#JavaScript</a>
                        </div>
                    

                    <!-- Comments -->
                    



                </div>
                <div class="fl w-100 w-30-l center fw3 lh-copy pl4-ns tl black-50">
                    
                    <hr class="dn-l mw4 black-50 mt5" />
                    
                    <!-- Widget 1: About -->
                    <div class="mt5 mt0-l">
    <article class="dt db-l mw8 mw8-m mw5-ns center ml0-l bg-white mv3">
        <div class="dn dtc-m db-l v-mid tc pr4 pr0-l" style="min-width: 6rem;">
            <img src="/images/timg.jpg" class="mb4-l br-100 h3 w3 h4-l w4-l dib" title="lhz">
        </div>
        <div class="dtc db-l v-mid lh-copy measure center f6 black-50 tj">
            My name is lhz  and this is my blog.
        </div>
    </article>
</div>

                    <hr class="dn-l mw4 black-50 mt5" />
                    
                    <!-- Widget 2: Categories -->
                    
                        <div class="mt5 tc tl-l">
    <h3>分类</h3>
    
        <p>
            <a href="/categories/JavaScript/">JavaScript</a>
        </p>
    
</div>


                        <hr class="dn-l mw4 black-50 mt5" />
                    

                    <!-- Widget 3: Recent Posts -->
                    <div class="mt5 tc tl-l">
    <h3>近期文章</h3>
    
        <p>
            <a href="/2019/01/13/todo/">Todo</a>
        </p>
    
        <p>
            <a href="/2018/12/17/reflow-repaint/">了解回流和重绘</a>
        </p>
    
        <p>
            <a href="/2018/12/05/common-tool/">常用工具</a>
        </p>
    
        <p>
            <a href="/2018/11/15/javascript-closure/">闭包</a>
        </p>
    
        <p>
            <a href="/2018/11/10/html5/">HTML5</a>
        </p>
    
</div>
                </div>
            </div>
        </div>
    </div>
</div>


<!-- Footer -->
<div class="bg-1 ph2 ph5-ns pv5">
        <div class="mv8">
            <div class="center tc">
                
                    <div class="dib mh3">
                        <a class="f3 f2-ns white dim" href="https://github.com/mrlhz" target="_blank">
                            <i class="fa fa-github"></i>
                        </a>
                    </div>
                
            </div>
            <div class="f6 f5-ns center tc white pt5 fw3">
                @study. All right reserved | Design & <a class="link dim white" href="https://hexo.io/zh-cn/">Hexo</a> <a class="link dim white" href="https://mrlhz.com/">lhz</a>
            </div>
        </div>
    </div>

<!-- After Footer -->
<!-- Disqus Comments -->



</body>

</html>